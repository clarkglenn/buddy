@page "/"
@implements IAsyncDisposable
@inject Client.Services.CopilotHubClient HubClient

<PageTitle>Buddy Copilot</PageTitle>


<div class="grid">
	<section class="panel">
		<h2>ðŸ¤– Buddy Copilot</h2>
		<p>Buddy now uses machine-level Copilot CLI auth and no longer requires GitHub OAuth in this app.</p>

		<div class="instructions">
			<h3>ðŸ“± How to Use</h3>
			<ol>
				<li>Open a chat with the Buddy bot on your platform</li>
				<li>Send any prompt</li>
			</ol>
			<p class="hint">Available commands on messaging platforms:</p>
			<ul>
				<li><code>/help</code> - Show available commands</li>
				<li>Send any message - It will be sent to Copilot CLI</li>
			</ul>
		</div>
	</section>
</div>

@code {
	protected override async Task OnInitializedAsync()
	{
		await HubClient.ConnectAsync();
	}

	public async ValueTask DisposeAsync()
	{
		await HubClient.DisposeAsync();
	}
}
